{"version":3,"sources":["assets\\Script\\buttle.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;AAClF,2CAAsC;AAChC,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IAAoC,0BAAU;IAA9C;;IAoBA,CAAC;IAnBC,wBAAwB;IACxB,uBAAM,GAAN,cAAU,CAAC;IAEX,sBAAK,GAAL,cAAS,CAAC;IAEV,uBAAM,GAAN,UAAO,EAAE;QACP,IAAI,SAAS,GAAY,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAC1D,IAAI,SAAS,GAAY,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACjD,IAAI,YAAY,GAAY,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE,CAAC;QACtE,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtD,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtD,wBAAwB;QACxB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QAExE,IAAI,IAAI,CAAC,iBAAiB,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE;YAC3C,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,OAAO;SACR;IACH,CAAC;IAnBkB,MAAM;QAD1B,OAAO;OACa,MAAM,CAoB1B;IAAD,aAAC;CApBD,AAoBC,CApBmC,oBAAU,GAoB7C;kBApBoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\nimport BaseButtle from \"./BaseButtle\";\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Buttle extends BaseButtle {\r\n  // LIFE-CYCLE CALLBACKS:\r\n  onLoad() {}\r\n\r\n  start() {}\r\n\r\n  update(dt) {\r\n    let targetPos: cc.Vec2 = this.game.airPlane.getPosition();\r\n    let bulletPos: cc.Vec2 = this.node.getPosition();\r\n    let normalizeVec: cc.Vec2 = targetPos.subtract(bulletPos).normalize();\r\n    this.node.x += normalizeVec.x * this.bulletSpeed * dt;\r\n    this.node.y += normalizeVec.y * this.bulletSpeed * dt;\r\n    // 角度变化以y轴正方向为起点，逆时针角度递增\r\n    this.node.angle = (cc.v2(0, 1).signAngle(normalizeVec) * 180) / Math.PI;\r\n\r\n    if (this.getPlayerDistance() < this.collied) {\r\n      this.onPicked();\r\n      return;\r\n    }\r\n  }\r\n}\r\n"]}