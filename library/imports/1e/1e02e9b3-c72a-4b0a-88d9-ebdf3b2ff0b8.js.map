{"version":3,"sources":["assets\\Script\\Helloworld.ts"],"names":[],"mappings":";;;;;AAAA,mCAA8B;AAC9B,qCAAgC;AAE1B,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAA0B,CAAC;AAG5C;IAAwC,8BAAY;IADpD;QAAA,qEAsHC;QAnHC,cAAQ,GAAY,IAAI,CAAC;QAGzB,kBAAY,GAAc,IAAI,CAAC;QAG/B,mBAAa,GAAc,IAAI,CAAC;QAGhC,qBAAe,GAAa,IAAI,CAAC;QAGjC,sBAAgB,GAAa,IAAI,CAAC;QAGlC,sBAAgB,GAAa,IAAI,CAAC;QAGlC,oBAAc,GAAa,IAAI,CAAC;QAGhC,cAAQ,GAAY,IAAI,CAAC;QAGzB,eAAS,GAAY,IAAI,CAAC;QAE1B,UAAI,GAAG,IAAI,CAAC;QAEZ,gBAAU,GAAY,KAAK,CAAC,CAAC,yBAAyB;QAEtD,WAAK,GAAW,IAAI,CAAC;QACrB,cAAQ,GAAW,CAAC,CAAC;;IAoFvB,CAAC;IAlFC,2BAAM,GAAN;QACE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QACtE,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC1C,CAAC;IACD,0BAAK,GAAL,cAAS,CAAC;IAEV,2BAAM,GAAN,UAAO,EAAE,IAAG,CAAC;IAEb,mCAAc,GAAd,UAAe,KAA0B;QACvC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,EAAE,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,EAAE,CAAC;IACvC,CAAC;IAED,6BAAQ,GAAR;QACE,IAAI,IAAI,CAAC,UAAU;YAAE,OAAO;QAC5B,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAChC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;QAChD,MAAM,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IACD,+BAAU,GAAV;QACE,IAAI,IAAI,CAAC,UAAU;YAAE,OAAO;QAC5B,IAAI,OAAO,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACjD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACjC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;QACjD,OAAO,CAAC,YAAY,CAAC,iBAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IAED,yCAAoB,GAApB;QACE,IAAI,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QACrD,IAAI,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QACpD,OAAO,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAC7B,CAAC;IAED,6BAAQ,GAAR;QACE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,WAAW,CAAC;QAC1C,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,gBAAc,IAAI,CAAC,QAAQ,MAAG,CAAC;QAC9D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACzC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC;QAEnC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzB,oBAAoB;QACpB,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5B,CAAC;IACD,yBAAI,GAAJ;QAAA,iBAgCC;QA/BC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC1C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACzC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAC1C,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAElB,0CAA0C;QAE1C,qBAAqB;QACrB,sCAAsC;QACtC,YAAY;QACZ,qBAAqB;QACrB,sCAAsC;QACtC,YAAY;QACZ,qBAAqB;QACrB,sCAAsC;QACtC,YAAY;QACZ,qBAAqB;QACrB,6CAA6C;QAC7C,YAAY;QACZ,qBAAqB;QACrB,6CAA6C;QAC7C,sCAAsC;QACtC,YAAY;QAEZ,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC;YACvB,KAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,KAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAlHD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACO;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACW;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;qDACY;IAGhC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;uDACc;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;wDACe;IAGlC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;wDACe;IAGlC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;sDACa;IAGhC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;gDACO;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACQ;IA1BP,UAAU;QAD9B,OAAO;OACa,UAAU,CAqH9B;IAAD,iBAAC;CArHD,AAqHC,CArHuC,EAAE,CAAC,SAAS,GAqHnD;kBArHoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import Bullet from \"./buttle\";\r\nimport Bullet2 from \"./buttle2\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Helloworld extends cc.Component {\r\n  @property(cc.Node)\r\n  airPlane: cc.Node = null;\r\n\r\n  @property(cc.Prefab)\r\n  bulletPrefab: cc.Prefab = null;\r\n\r\n  @property(cc.Prefab)\r\n  bulletPrefab2: cc.Prefab = null;\r\n\r\n  @property(cc.Label)\r\n  gameStatusLabel: cc.Label = null;\r\n\r\n  @property(cc.Label)\r\n  gameStatusLabel2: cc.Label = null;\r\n\r\n  @property(cc.Label)\r\n  gameStatusLabel3: cc.Label = null;\r\n\r\n  @property(cc.Label)\r\n  gameStartLabel: cc.Label = null;\r\n\r\n  @property(cc.Node)\r\n  playNode: cc.Node = null;\r\n\r\n  @property(cc.Node)\r\n  bulltRoot: cc.Node = null;\r\n\r\n  size = null;\r\n\r\n  gameStatus: Boolean = false; // false 游戏进行中  true 游戏失败\r\n\r\n  timer: number = null;\r\n  aliveSec: number = 0;\r\n\r\n  onLoad() {\r\n    this.node.on(cc.Node.EventType.TOUCH_MOVE, this.catchMouseMove, this);\r\n    this.size = cc.view.getFrameSize();\r\n    this.playNode.on(cc.Node.EventType.TOUCH_END, this.play, this);\r\n    this.gameStartLabel.node.active = false;\r\n  }\r\n  start() {}\r\n\r\n  update(dt) {}\r\n\r\n  catchMouseMove(event: cc.Event.EventTouch) {\r\n    this.airPlane.x += event.getDeltaX();\r\n    this.airPlane.y += event.getDeltaY();\r\n  }\r\n\r\n  putStart() {\r\n    if (this.gameStatus) return;\r\n    var bullet = cc.instantiate(this.bulletPrefab);\r\n    this.bulltRoot.addChild(bullet);\r\n    bullet.setPosition(this.getNewBulletPosition());\r\n    bullet.getComponent(Bullet).init(this);\r\n  }\r\n  putBullet2() {\r\n    if (this.gameStatus) return;\r\n    var bullet2 = cc.instantiate(this.bulletPrefab2);\r\n    this.bulltRoot.addChild(bullet2);\r\n    bullet2.setPosition(this.getNewBulletPosition());\r\n    bullet2.getComponent(Bullet2).init(this);\r\n  }\r\n\r\n  getNewBulletPosition() {\r\n    var randY = (Math.random() - 0.5) * this.node.height;\r\n    var randX = (Math.random() - 0.5) * this.node.width;\r\n    return cc.v2(randX, randY);\r\n  }\r\n\r\n  gameOver() {\r\n    this.gameStatus = true;\r\n    this.gameStatusLabel.string = \"Game Over\";\r\n    this.gameStatusLabel2.string = `you Alive: ${this.aliveSec}s`;\r\n    this.gameStatusLabel.node.active = true;\r\n    this.gameStatusLabel2.node.active = true;\r\n    this.playNode.active = true;\r\n    this.bulltRoot.removeAllChildren();\r\n\r\n    console.log(\"game over\");\r\n    // this.bulletPrefab\r\n    clearInterval(this.timer);\r\n  }\r\n  play() {\r\n    this.gameStatusLabel3.node.active = false;\r\n    this.gameStatus = false;\r\n    this.gameStatusLabel.node.active = false;\r\n    this.gameStatusLabel2.node.active = false;\r\n    this.playNode.active = false;\r\n    this.aliveSec = 0;\r\n\r\n    // this.gameStartLabel.node.active = true;\r\n\r\n    // setTimeout(() => {\r\n    //   this.gameStartLabel.string = \"3\";\r\n    // }, 1000);\r\n    // setTimeout(() => {\r\n    //   this.gameStartLabel.string = \"2\";\r\n    // }, 2000);\r\n    // setTimeout(() => {\r\n    //   this.gameStartLabel.string = \"1\";\r\n    // }, 3000);\r\n    // setTimeout(() => {\r\n    //   this.gameStartLabel.string = \"Start...\";\r\n    // }, 4000);\r\n    // setTimeout(() => {\r\n    //   this.gameStartLabel.node.active = false;\r\n    //   this.gameStartLabel.string = \"3\";\r\n    // }, 5000);\r\n\r\n    this.timer = setInterval(() => {\r\n      this.aliveSec++;\r\n      this.putStart();\r\n      this.putBullet2();\r\n    }, 1000);\r\n  }\r\n}\r\n"]}